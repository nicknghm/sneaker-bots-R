---
title: "A Data Wrangling & EDA Project - Sneaker Bots"
author: "Nick"
date: "8/20/2021"
output: 
  html_document: 
    keep_md: yes
---
# This is a project about bots... sneaker bots!

This is a passion project to practice my data analysis skills with R, while combining my love for the world of sneakers. 

With sneakers become more and more coveted, and a wider number of people getting into them, some have turned to using "bots", which use a combination of unconventional and interesting methods to allow a user to run hundreds of tasks (appearing as hundres of unique users with the help of residential / data center proxies) on a given website. This allows the botter to have a higher chance of not only getting limited shoes, but also in volumes that the average person would almost find impossible to do manually without it.

Bots are created by different software developers, and thus vary in their quality and performance on different sites. This project just aims to show trends between certain bots, and why some are cheaper than others.

This project analyzes data from [the BotBroker website](https://botbroker.io/bots), pulled out from the website as a list of lists with the help of Postman. 

The data in this project was pulled on the 11th of August, 2021. 

Let's see how this turns out!

First, we'll install the necessary packages if you need them.
```{r}
## install.packages("tidyverse")
## install.packages("jsonlite")
## install.packages("lubridate")
```

Next, run the packages.
```{r message = FALSE}
library(tidyverse)
library(jsonlite)
library(lubridate)
```

## Initial data pull

We'll first construct a snippet that can efficiently allow us to convert file path backslashes to forward slashes. You can insert this code into your global options. For a more detailed explanation snippets, you can [find it on rstudio](https://support.rstudio.com/hc/en-us/articles/204463668-Code-Snippets). You could also use a program like Path Copy Copy.

```{r}
## snippet pp
##    "`r gsub('"', "", gsub("\\\\", "/", readClipboard()))`"
```

At this point, there are 27 json files that need to be converted into a huge data frame containing all bot transaction data. 

The additional obstacle is that some have lifetime copies, and some only have renewal copies.

The endgame of this data should contain

1. A column of factors containing bot names
2. Date time column of transaction (in datetime format)
3. Price transacted (int)
4. A column that differentiates lifetime and renewal copies (which could also be factors)
5. What sites the bot supports (Shopify, YeezySupply, Footsites, Supreme)

### Converting JSON files into R objects

After the data was pulled from Botbroker, they were extracted as JSON files with the help of Postman, and transformed to an R friendly format using the function `fromJSON()` from the `jsonlite` library.

This converts the JSON file into two character columns, transaction time and price sold.

Note backslashes have to be converted to forward slashes.

```{r}
balko_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/balko_lt.json")
balko_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/balko_renewal.json")
carnage_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/carnage_renewal.json")
cyber_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/cyber_lt.json")
cyber_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/cyber_renewal.json")
dashe_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/dashe_lt.json")
dashe_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/dashe_renewal.json")
ganesh_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/ganesh_lt.json")
ganesh_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/ganesh_renewal.json")
kage_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/kage_renewal.json")
mekaio_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/mekaio_renewal.json")
mekpreme_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/mekpreme_lt.json")
mekpreme_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/mekpreme_renewal.json")
nebula_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/nebula_lt.json")
nebula_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/nebula_renewal.json")
ominous_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/ominous_renewal.json")
pd_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/pd_lt.json")
pd_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/pd_renewal.json")
prism_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/prism_renewal.json")
scottbot_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/scottbot_renewal.json")
splashforce_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/splashforce_renewal.json")
swftaio_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/swftaio_renewal.json")
tohru_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/tohru_renewal.json")
velox_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/velox_lifetime.json")
velox_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/velox_renewal.json")
wrath_lt <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/wrath_lifetime.json")
wrath_r <- fromJSON("C:/Users/herkm/Desktop/R Workspace/sneaker-bots-R/bot-data/wrath_renewal.json")
```

## Transforming data into correct data types 

This process returns us a 2 column character matrix, of transaction date and price that looks like this:

```{r}
str(balko_lt)
head(balko_lt)
```
Thus, we'll have to rename and change the columns into the right data types - date time and numeric before we go further, which also forces us to turn these matrixes into tibbles for easy wrangling later on.

We'll first turn this matrix into a tibble.

```{r}

balko_lt_e <- balko_lt %>% 
  as_tibble() %>% 
  set_names(c("transaction_date", "price"))

```
Next, we'll turn the columns into the right datatypes.

```{r}
balko_lt_e <- balko_lt_e %>%
  mutate(price = as.numeric(unlist(balko_lt_e$price))) %>% 
  mutate(transaction_date = as_datetime(str_replace_all(balko_lt_e$transaction_date, "T|Z", " ")))

str(balko_lt_e)
```
Now that one is done, all we have to do is do it another 26 times :)

```{r}
balko_r_e <- balko_r %>% 
  as_tibble() %>% 
  set_names(c("transaction_date", "price"))

balko_r_e <- balko_r_e %>%
  mutate(price = as.numeric(unlist(balko_r_e$price))) %>% 
  mutate(transaction_date = as_datetime(str_replace_all(balko_r_e$transaction_date, "T|Z", " ")))

str(balko_r_e)

```

It's probably time to create some functions...

```{r}
bb_tibbler <- function(bot_data) {
  bot_data %>% 
  as_tibble() %>% 
  set_names(c("transaction_date", "price"))
}

bb_tibbled_formatter <- function(bot_df) {
  bot_df %>% 
  mutate(price = as.numeric(unlist(bot_df$price))) %>% 
  mutate(transaction_date = as_datetime(str_replace_all(bot_df$transaction_date, "T|Z", " ")))
}

```

Alright, on with the rest of the bots. (output is hidden for brevity)

```{r include = FALSE}
#balko
balko_r_e <- bb_tibbler(balko_r)
balko_r_e <- bb_tibbled_formatter(balko_r_e)
str(balko_r_e)

balko_lt_e <- bb_tibbler(balko_lt)
balko_lt_e <- bb_tibbled_formatter(balko_lt_e) 
balko_lt_e <- balko_lt_e %>% 
  filter(price > 1000) #to remove outlier
str(balko_lt_e)

#carnage
carnage_r_e <- bb_tibbler(carnage_r)
carnage_r_e <- bb_tibbled_formatter(carnage_r_e)
str(carnage_r_e)

#cyber
cyber_r_e <- bb_tibbler(cyber_r)
cyber_r_e <- bb_tibbled_formatter(cyber_r_e)
str(cyber_r_e)

cyber_lt_e <- bb_tibbler(cyber_lt)
cyber_lt_e <- bb_tibbled_formatter(cyber_lt_e)
str(cyber_lt_e)

#dashe
dashe_r_e <- bb_tibbler(dashe_r)
dashe_r_e <- bb_tibbled_formatter(dashe_r_e)
str(dashe_r_e)

dashe_lt_e <- bb_tibbler(dashe_lt)
dashe_lt_e <- bb_tibbled_formatter(dashe_lt_e)
str(dashe_lt_e)

#ganesh
ganesh_r_e <- bb_tibbler(ganesh_r)
ganesh_r_e <- bb_tibbled_formatter(ganesh_r_e)
str(dashe_r_e)

ganesh_lt_e <- bb_tibbler(ganesh_lt)
ganesh_lt_e <- bb_tibbled_formatter(ganesh_lt_e)
str(dashe_lt_e)

#kage
kage_r_e <- bb_tibbler(kage_r)
kage_r_e <- bb_tibbled_formatter(kage_r_e)
str(kage_r_e)

#mekaio
mekaio_r_e <- bb_tibbler(mekaio_r)
mekaio_r_e <- bb_tibbled_formatter(mekaio_r_e)
str(mekaio_r_e)

#mekpreme
mekpreme_r_e <- bb_tibbler(mekpreme_r)
mekpreme_r_e <- bb_tibbled_formatter(mekpreme_r_e)
str(mekpreme_r_e)

mekpreme_lt_e <- bb_tibbler(mekpreme_lt)
mekpreme_lt_e <- bb_tibbled_formatter(mekpreme_lt_e)
str(mekpreme_lt_e)

#nebula
nebula_r_e <- bb_tibbler(nebula_r)
nebula_r_e <- bb_tibbled_formatter(nebula_r_e)
str(mekpreme_r_e)

nebula_lt_e <- bb_tibbler(nebula_lt)
nebula_lt_e <- bb_tibbled_formatter(nebula_lt_e)
str(nebula_lt_e)

#ominous
ominous_r_e <- bb_tibbler(ominous_r)
ominous_r_e <- bb_tibbled_formatter(ominous_r_e)
str(ominous_r_e)

#pd
pd_r_e <- bb_tibbler(pd_r)
pd_r_e <- bb_tibbled_formatter(pd_r_e)
str(pd_r_e)

pd_lt_e <- bb_tibbler(pd_lt)
pd_lt_e <- bb_tibbled_formatter(pd_lt_e)
str(pd_lt_e)

#prism
prism_r_e <- bb_tibbler(prism_r)
prism_r_e <- bb_tibbled_formatter(prism_r_e)
str(prism_r_e)

#scottbot
scottbot_r_e <- bb_tibbler(scottbot_r)
scottbot_r_e <- bb_tibbled_formatter(scottbot_r_e)
str(scottbot_r_e)

#splashforce
splashforce_r_e <- bb_tibbler(splashforce_r)
splashforce_r_e <- bb_tibbled_formatter(splashforce_r_e)
str(splashforce_r_e)

#swftaio
swftaio_r_e <- bb_tibbler(swftaio_r)
swftaio_r_e <- bb_tibbled_formatter(swftaio_r_e)
str(swftaio_r_e)

#tohru
tohru_r_e <- bb_tibbler(tohru_r)
tohru_r_e <- bb_tibbled_formatter(tohru_r_e)
str(tohru_r_e)

#velox
velox_r_e <- bb_tibbler(velox_r)
velox_r_e <- bb_tibbled_formatter(velox_r_e)
str(velox_r_e)

velox_lt_e <- bb_tibbler(velox_lt)
velox_lt_e <- bb_tibbled_formatter(velox_lt_e)
str(velox_lt_e)

#wrath
wrath_r_e <- bb_tibbler(wrath_r)
wrath_r_e <- bb_tibbled_formatter(wrath_r_e)
str(wrath_r_e)

wrath_lt_e <- bb_tibbler(wrath_lt)
wrath_lt_e <- bb_tibbled_formatter(wrath_lt_e)
str(wrath_lt_e)

```
### Mutate() for the additional data we need before joining tables together

Before we join the tables, we need to first `mutate()` two columns onto each tibble, one that shows the key type (lifetime or renewal) of the bot, and another that shows the name of the bot (so we can have a tidy, long rather that wide, dataset) before we join all rows together to form a giant dataframe of all bots.

The tables should all have four variables with the same column names, ordered as such: `bot_name`, `key_type`, `transaction_date`, and `price`. We'll do this with the help of `select()`. Output is hidden for brevity, but we will be running the following code for each bot.

```{r}
#balko
balko_lt_e <- balko_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "balko") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)
```

```{r include = FALSE}
#balko
balko_lt_e <- balko_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "balko") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

balko_r_e <- balko_r_e %>% 
  mutate(key_type = "renewal", bot_name = "balko") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#carnage
carnage_r_e <- carnage_r_e %>% 
  mutate(key_type = "renewal", bot_name = "carnage") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#cyber
cyber_lt_e <- cyber_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "cyber") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

cyber_r_e <- cyber_r_e %>% 
  mutate(key_type = "renewal", bot_name = "cyber") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#dashe
dashe_lt_e <- dashe_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "dashe") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

dashe_r_e <- dashe_r_e %>% 
  mutate(key_type = "renewal", bot_name = "dashe") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#ganesh
ganesh_lt_e <- ganesh_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "ganesh") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

ganesh_r_e <- ganesh_r_e %>% 
  mutate(key_type = "renewal", bot_name = "ganesh") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#kage
kage_r_e <- kage_r_e %>% 
  mutate(key_type = "renewal", bot_name = "kage") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#mekaio
mekaio_r_e <- mekaio_r_e %>% 
  mutate(key_type = "renewal", bot_name = "mekaio") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#mekpreme
mekpreme_lt_e <- mekpreme_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "mekpreme") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

mekpreme_r_e <- mekpreme_r_e %>% 
  mutate(key_type = "renewal", bot_name = "mekpreme") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#nebula
nebula_lt_e <- nebula_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "nebula") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

nebula_r_e <- nebula_r_e %>% 
  mutate(key_type = "renewal", bot_name = "nebula") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#ominous
ominous_r_e <- ominous_r_e %>% 
  mutate(key_type = "renewal", bot_name = "ominous") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#pd
pd_lt_e <- pd_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "pd") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

pd_r_e <- pd_r_e %>% 
  mutate(key_type = "renewal", bot_name = "pd") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#prism
prism_r_e <- prism_r_e %>% 
  mutate(key_type = "renewal", bot_name = "prism") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#scottbot
scottbot_r_e <- scottbot_r_e %>% 
  mutate(key_type = "renewal", bot_name = "scottbot") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#splashforce
splashforce_r_e <- splashforce_r_e %>% 
  mutate(key_type = "renewal", bot_name = "splashforce") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#swftaio
swftaio_r_e <- swftaio_r_e %>% 
  mutate(key_type = "renewal", bot_name = "swftaio") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#tohru
tohru_r_e <- tohru_r_e %>% 
  mutate(key_type = "renewal", bot_name = "tohru") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#velox
velox_lt_e <- velox_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "velox") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

velox_r_e <- velox_r_e %>% 
  mutate(key_type = "renewal", bot_name = "velox") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

#wrath
wrath_lt_e <- wrath_lt_e %>% 
  mutate(key_type = "lifetime", bot_name = "wrath") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

wrath_r_e <- wrath_r_e %>%  
  mutate(key_type = "renewal", bot_name = "wrath") %>% 
  arrange(transaction_date) %>% 
  select(bot_name, key_type, transaction_date, price)

```

### Time to join tables!

Now that all JSON files have been wrangled into tibbles with the right data types, it's time to join tables that have both renewal and lifetime copies.

These bots are - balko, cyber, dashe, ganesh, mekpreme, nebula, pd, velox, and wrath.

We'll use the `bind_rows()` function from `dplyr` to achieve this.

```{r}

balko_lt_r_e <- bind_rows(balko_lt_e, balko_r_e)
cyber_lt_r_e <- bind_rows(cyber_lt_e, cyber_r_e)
dashe_lt_r_e <- bind_rows(dashe_lt_e, dashe_r_e)
ganesh_lt_r_e <- bind_rows(ganesh_lt_e, ganesh_r_e)
mekpreme_lt_r_e <- bind_rows(mekpreme_lt_e, mekpreme_r_e)
nebula_lt_r_e <- bind_rows(nebula_lt_e, nebula_r_e)
pd_lt_r_e <- bind_rows(pd_lt_e, pd_r_e)
velox_lt_r_e <- bind_rows(velox_lt_e, velox_r_e)
wrath_lt_r_e <- bind_rows(wrath_lt_e, wrath_r_e)

```

With that done, let's bind all bot transaction data into one long, tidy tibble.

```{r}
bot_txns_compiled <- bind_rows(balko_lt_r_e, carnage_r_e, cyber_lt_r_e, dashe_lt_r_e, ganesh_lt_r_e, kage_r_e, mekaio_r_e, mekpreme_lt_r_e, nebula_lt_r_e, ominous_r_e, pd_lt_r_e, prism_r_e, scottbot_r_e, splashforce_r_e, swftaio_r_e, tohru_r_e, velox_lt_r_e, wrath_lt_r_e)

head(bot_txns_compiled)
str(bot_txns_compiled)
```

## Different bots bot different sites

One of the other things we should add at this point is what sites the bots support. The main sites to consider are Shopify, Footsites (FootLocker, Eastbay, Champs, FootAction), YeezySupply, Supreme, Collectibles (Funko), Retail (amazon, walmart), Mesh(JD, footpatrol, size?), Off-white, and EU sites (Snipes, Net-a-porter, Offspring, NAKED, Starcow, SVD, Courier, Slam Jam, Solebox, Zalando). 

To prevent data clutter, all EU sites will be consolidated under one column, as not many bots specialize in it, and those that do usually cover the full suite.

As we will be converting them into factors later on, if the bot supports a site, the value will be the site name (e.g. `shopify`), but if it does not, the value in the column will have 'no' in front of it (e.g. `no_shopify`) so we can assign levels to each column later on.

Also, columns need to be created for bots that are US focused, and EU focused.

Alright, onto the next `mutate()` chunk.

```{r eval=FALSE, include=FALSE}

#balko - shopify 
balko_lt_r_e <- balko_lt_r_e %>% 
  mutate(shopify = "shopify", footsites = "no_footsites", yeezysupply = "no_yeezysupply", supreme = "no_supreme", collectibles = "collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

#carnage - collectibles, retail
carnage_r_e <- carnage_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "no_footsites", yeezysupply = "no_yeezysupply", supreme = "no_supreme", collectibles = "collectibles", retail = "retail", mesh = "no_mesh", focus = "EU")

#cyber - shopify, footsites, ys, supreme
cyber_lt_r_e <- cyber_lt_r_e %>% 
  mutate(shopify = "shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "BOTH")

#dashe - shopify, ys, supreme
dashe_lt_r_e <- dashe_lt_r_e %>% 
  mutate(shopify = "shopify", footsites = "no_footsites", yeezysupply = "yeezysupply", supreme = "supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

#ganesh - footsites, ys, mesh
ganesh_lt_r_e <- ganesh_lt_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "mesh", focus = "BOTH")

#kage - footsites, retail
kage_r_e <- kage_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "footsites", yeezysupply = "no_yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "retail", mesh = "no_mesh", focus = "US")

#mekaio - shopify, footsites, ys
mekaio_r_e <- mekaio_r_e %>% 
  mutate(shopify = "shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

#mekpreme - supreme
mekpreme_lt_r_e <- mekpreme_lt_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "no_footsites", yeezysupply = "no_yeezysupply", supreme = "supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "BOTH")

#nebula - shopify, footsites, yeezysupply
nebula_lt_r_e <- nebula_lt_r_e %>% 
  mutate(shopify = "shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

#ominous - footsites, yeezysupply, retail
ominous_r_e <- ominous_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "retail", mesh = "no_mesh", focus = "US")

#pd - shopify, footsites, yeezysupply
pd_lt_r_e <- pd_lt_r_e %>% 
  mutate(shopify = "shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

#prism - shopify, footsites, yeezysupply
prism_r_e <- prism_r_e %>% 
  mutate(shopify = "shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

#scottbot - collectibles
scottbot_r_e <- scottbot_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "no_footsites", yeezysupply = "no_yeezysupply", supreme = "no_supreme", collectibles = "collectibles", retail = "retail", mesh = "no_mesh", focus = "US")

#splashforce - footsites, yeezysupply, adidas (kiv)
splashforce_r_e <- splashforce_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

#swftaio - retail
splashforce_r_e <- splashforce_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "no_footsites", yeezysupply = "no_yeezysupply", supreme = "no_supreme", collectibles = "no_collectibles", retail = "retail", mesh = "no_mesh", focus = "US")

#tohru - footsites, yeezysupply, supreme, nike (kiv)
tohru_r_e <- tohru_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

#velox - yeezysupply, supreme
velox_lt_r_e <- velox_lt_r_e %>% 
  mutate(shopify = "no_shopify", footsites = "no_footsites", yeezysupply = "yeezysupply", supreme = "supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "BOTH")

#wrath - shopify, footsites, yeezysupply, supreme
wrath_lt_r_e <- wrath_lt_r_e %>% 
  mutate(shopify = "shopify", footsites = "footsites", yeezysupply = "yeezysupply", supreme = "supreme", collectibles = "no_collectibles", retail = "no_retail", mesh = "no_mesh", focus = "US")

```

Almost ready to bind all of these tibbles together...

### Is there a better way to present the data we have?

After looking at how the data shaped up, it seems like it might be better to separate the site coverage of bots to a separate table, while keeping transactions in a separate table, to prevent unnecessary repetition, so let's get to work on that!

This also allows us to get a nice overview of the bot ecosystem, and bots that are performing well whose transactions are not supported on botbroker.

What bots are there?
aiomoji, balko, burst, cyber, dashe, dragon, earthside, ecb, estock, eve, f3, flare, ganesh, hawkmesh, hayha, ignite, kage, koi, kodai, kylin, lexaio, linear, mbot, mekaio, mekpreme, noble, nsb, nyte, ominous, pd, prism, qbot, reaio, stellar, solar, sole, splashforce, tohru, trickle, thunder, valor, velox, viper, whatbot, wrath

There are of course, bots that have been taken out of this analysis. Low tier Mobile bots (Polar, Quick Cop, etc), inactive bots (Fleek, Ghost, Phasma), raffle bots (infinit, thunder raffle, flare raffle, kicksrafflebot), bots that are difficult to sell (TSB, Rafflehub, Diao, etc), and private bots.

Bots in this list all have keys that can be sold or bought easily.

1. aiomoji - footsites (ASIA)
2. balko - shopify, collectibles, offwhite
3. burst - offwhite, eu sites
4. carnage - collectibles, eu sites, retail
5. cyber - shopify, footsites (EU, ASIA), yeezysupply, supreme, mobile, offwhite, collectibles
6. dashe - yeezysupply, supreme
7. dragon- nike_backend
8. earthside - eu sites
9. ecb - footsites (US)
10. estock - retail
11. eve - retail
12. f3 - supreme, mobile
13. flare - mesh, footsites (EU), eu sites
14. fluid - retail
15. ganesh - mesh, footlocker (US, EU, ASIA), yeezysupply, eu sites, adidas (US, EU), offwhite
16. hawkmesh - mesh
17. hayha - footsites (US), retail, new balance
18. ignite - footsites (US), retail
19. kage - shopify, footsites (US), retail
20. kodai - footsites (US, EU, ASIA), yeezysupply, supreme
21. koi - retail
22. kylin - footsites (US, EU, ASIA), yeezysupply, adidas (US, EU, ASIA)
23. lexaio - retail
24. linear- footsites (US), nike_backend, nike_snkrs
25. mbot - offwhite, mesh, mobile
26. mekaio- shopify, footsites (US), yeezysupply
27. mekpreme - supreme
28. nebula - shopify, footsites (US), yeezysupply
29. noble - footsites (US)
30. nsb - shopify, footsites (US), yeezysupply
31. nyte - footsites (US), yeezysupply
32. ominous - footsites (US), yeezysupply, retail
33. pd - shopify, yeezysupply, footsites (US)
34. prism - shopify, yeezysupply, footsites (US)
35. qbot - footsites (ASIA)
36. reaio - nike_backend, nike_snkrs, footsites, supreme
37. schrysant - supreme
38. scottbot - collectibles
39. stellar - retail
40. solar - mesh, eu sites
41. sole - shopify, adidas (US, EU), yeezysupply
42. swftaio - retail, mobile, collectibles
43. splashforce - footsites (US), yeezysupply
44. tohru - footsites (US), yeezysupply, supreme, nike_backend
45. trickle - shopify, yeezysupply, retail
46. thunder - mesh, eu sites, offwhite
47. valor - footsites (US), yeezysupply, supreme
48. velox - supreme, yeezysupply
49. whatbot - footsites (US), yeezysupply
50. wrath - shopify, footsites (US), yeezysupply, supreme

Just for some practice on constructing a dataframe from separate vectors... (output is hidden for brevity)

```{r include = FALSE}

bot_name_id <- c("aiomoji", "balko", 'burst', "carnage", "cyber", "dashe", "dragon", "earthside", "ecb", "estock", "eve", "f3", "flare", "fluid", "ganesh", "hawkmesh", "hayha", "ignite", "kage", "kodai", "koi", "kylin", "lexaio", "linear", "mbot", "mekaio", "mekpreme", "nebula", "noble", "nsb", "nyte", "ominous", "pd", "prism", "qbot", "reaio", "schrysant", "scottbot", "stellar", "solar", "sole", "splashforce", "swftaio", "tohru", "trickle", "thunder", "valor", "velox", "whatbot", "wrath")

shopify <- c("no_shopify", "shopify", "no_shopify", "no_shopify", "shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "shopify", "no_shopify", "shopify", "no_shopify", "shopify", "no_shopify", "no_shopify", "shopify", "shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "shopify", "no_shopify", "no_shopify", "no_shopify", "shopify", "no_shopify", "no_shopify", "no_shopify", "no_shopify", "shopify")

footsites <- c("footsites_asia", "no_footsites", "no_footsites", "no_footsites", "all_regions_footsites", "no_footsites", "no_footsites", "no_footsites", "footsites_us", "no_footsites", "no_footsites", "no_footsites", "footsites_eu", "no_footsites", "all_regions_footsites", "no_footsites", "footsites_us", "footsites_us", "footsites_us", "all_regions_footsites", "no_footsites", "all_regions_footsites", "no_footsites", "footsites_us", "no_footsites", "footsites_us", "no_footsites", "footsites_us", "footsites_us", "footsites_us", "footsites_us", "footsites_us", "footsites_us", "footsites_us", "footsites_asia", "no_footsites", "no_footsites", "no_footsites", "no_footsites", "no_footsites", "no_footsites", "no_footsites", "footsites_us", "footsites_us", "no_footsites", "no_footsites", "footsites_us", "no_footsites", "footsites_us", "footsites_us")

yeezysupply <- c("no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "yeezysupply", "yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "yeezysupply", "no_yeezysupply", "yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "yeezysupply", "no_yeezysupply", "yeezysupply", "no_yeezysupply", "yeezysupply", "yeezysupply", "yeezysupply", "yeezysupply", "yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "no_yeezysupply", "yeezysupply", "no_yeezysupply", "yeezysupply", "yeezysupply", "yeezysupply", "no_yeezysupply", "yeezysupply", "yeezysupply", "yeezysupply", "yeezysupply")

supreme <- c("no_supreme", "no_supreme", "no_supreme", "no_supreme", "supreme", "supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "supreme", "supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "no_supreme", "supreme", "no_supreme", "no_supreme", "supreme", "supreme", "no_supreme",  "supreme")

retail <- c("no_retail", "no_retail", "no_retail", "retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "retail", "retail", "no_retail", "no_retail", "retail", "no_retail", "no_retail", "retail", "retail", "retail", "no_retail", "retail", "no_retail", "retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail", "retail", "no_retail", "no_retail", "retail", "no_retail", "no_retail", "retail", "no_retail", "no_retail", "no_retail", "no_retail", "no_retail")

mesh <- c("no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "mesh", "no_mesh", "mesh", "mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh", "mesh", "no_mesh", "no_mesh", "no_mesh", "no_mesh")

eu_sites <- c("no_eu_sites", "no_eu_sites", "eu_sites", "eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites","eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "eu_sites", "no_eu_sites", "eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites",  "eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites", "no_eu_sites")

nike <- c("no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike",  "nike_webstore", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "nike_webstore & snkrs", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "nike_webstore & snkrs", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "nike_webstore", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike", "no_nike")

adidas <- c("no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "adidas_us & eu", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "adidas_all_regions", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "adidas_us & eu", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas", "no_adidas")

new_balance <- c("no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance", "no_new_balance")

offwhite <- c("no_offwhite", "offwhite", "offwhite", "no_offwhite", "offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite", "no_offwhite")

collectibles <- c("no_collectibles", "collectibles", "no_collectibles", "collectibles", "collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles", "no_collectibles")

mobile <- c("no_mobile", "no_mobile", "no_mobile", "no_mobile", "mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile", "no_mobile")

bot_data_compiled <- tibble(bot_name_id, shopify, footsites, yeezysupply, supreme, retail, mesh, eu_sites, nike, adidas, new_balance, offwhite, collectibles, mobile)

```
This is how our final long dataframe looks like:

```{r}
head(bot_data_compiled)
str(bot_data_compiled)
```

### The two data frames we've created

At this point, we've created **two dataframes** - `bot_data_compiled`, and `bot_txns_compiled`, but some final manipulation needs to be done to help us have a smoother time with data analysis later on.

## Factor Time

As we can see from the data currently, all columns are currently character strings, when they can be turned into factors for our analysis. Time to use the some base functions like `factor()` and the `forcats` package to help us.

With a full table of character columns, this might be the most efficient way to change all of them into factors. 

```{r}

bot_data_compiled <- bot_data_compiled %>% 
  mutate_if(is.character, as_factor)

str(bot_data_compiled)

levels(bot_data_compiled$footsites)
```
At the moment, some factors aren't organized in the same way that the rest are (e.g. the absence of a site is not the first level), so lets get that sorted with `forcats::fct_relevel`.

```{r}

bot_data_compiled$footsites <- fct_relevel(bot_data_compiled$footsites, c("no_footsites", "footsites_us", "footsites_eu", "footsites_asia", "all_regions_footsites"))

levels(bot_data_compiled$footsites)

str(bot_data_compiled)
```
## Exploratory Data Analysis - Where Is The Opportunity For Bot Devs?

We can first do a simple breakdown, where we take a look at where upcoming bots could consider focusing on, as some sites already are over-saturated with bots.

```{r}
#shopify breakdown
bot_data_compiled %>% 
  group_by(shopify) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#footsites breakdown
bot_data_compiled %>% 
  group_by(footsites) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#yeezysupply breakdown
bot_data_compiled %>% 
  group_by(yeezysupply) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#supreme breakdown
bot_data_compiled %>% 
  group_by(supreme) %>% 
  summarize(n = n())%>% 
  mutate(percent = n / sum(n) * 100)

#retail
bot_data_compiled %>% 
  group_by(retail) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#mesh
bot_data_compiled %>% 
  group_by(mesh) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#eu_sites
bot_data_compiled %>% 
  group_by(eu_sites) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#nike 
bot_data_compiled %>% 
  group_by(nike) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#adidas
bot_data_compiled %>% 
  group_by(adidas) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#new_balance
bot_data_compiled %>% 
  group_by(new_balance) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#off_white
bot_data_compiled %>% 
  group_by(offwhite) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#collectibles
bot_data_compiled %>% 
  group_by(collectibles) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

#mobile
bot_data_compiled %>% 
  group_by(mobile) %>% 
  summarize(n = n()) %>% 
  mutate(percent = n / sum(n) * 100)

```
From the results, we can easily narrow down the most hotly contested sites among bot developers - **US footsites** (18/50 bots support) and **yeezysupply** (20/50 bots support). Of course, this is in part due to the number of drops that happen on these two sites, and the potential profits that botters can make from them.

However, there are some sites that are extremely popular, yet few bot developers specialize in it - sites like **footlocker EU** and **footlocker ASIA** hardly have any bots that support it.
```{r}
bot_data_compiled %>% 
  filter(footsites == "footsites_eu" | footsites == "footsites_asia" | footsites == "all_regions_footsites")
```
This is a business opportunity for bot developers thinking of creating a new bot, as there is almost a monopoly on non-US footsites by bots like Qbot and Ganesh who perform miles better than most other bots on footlocker ASIA and EU respectively.

However, the difficulty of botting footlocker is compounded by the fact that their sites are split according to NEW and OLD regions, requiring completely different scripts between both regions.

At the end of the day, this is a potential area for future bot devs to look into.

The other opportunity lies in creating a great shopify bot, as there are not many bots that consistently work across shopify sites.

```{r}
bot_data_compiled %>% 
  filter(shopify == "shopify")
```
Out of these bots, the ones that perform phenomenally well at the moment are balko, wrath, and mek. Other bots are spotty at best on shopify, and the crown lies with these 3 bots. 

My advice for a bot dev now would be to create a bot that is strong at **shopify and all footsites** - Similar to a bot like Kylin, but better. That would be the best way to create a bot that is wanted by the community, and also hold strong resell value.

Of course, it's important to note the "niche" sites that some bots support, like Adidas, New Balance, or Nike. These sites usually require a huge amount of developer time investment, for little return (apart from Adidas bots and pure Nike bots), and as such do not present a good opportunity for bot devs.

If a developer was looking to expand to one of these sites, I would recommend Adidas or New Balance.

## Exploratory Data Analysis - Where Is The Opportunity For Bot Users?

Now that we've done some preliminary analysis on what sites bots support, let's refer back to the transaction lists for the bots we have data on, `bot_txns_compiled`

We'll first need to make sure bot_names and key types are factors, as they are currently in character format.

```{r}
bot_txns_compiled <- bot_txns_compiled %>% 
  mutate_if(is.character, as_factor)

str(bot_txns_compiled)

levels(bot_txns_compiled$key_type)
```
Alright, we're good. Now, we'll try to look at some of the factors that affect price of lifetime vs renewal key in 2020. We'll first have to nail down which bots were on botbroker in 2020, from January, and check out when the firs transactions happened as well.

### Bot Fever in 2020 - Fuelled By COVID

```{r}
bot_txns_compiled %>%
    filter(transaction_date >= date("2020-01-01"), transaction_date <= date("2020-01-31")) %>% 
    arrange(bot_name, key_type, transaction_date) %>%
    group_by(bot_name, key_type) %>%
    top_n(1) %>% 
    arrange(desc(price))

```
Many of these bots at the time were at pretty stable prices in line with what they've been for at least half a year prior. However, by the middle of the year, when COVID really hit, it forced many people to stay at home for extened periods of time, and this has lasted all the way till present. With one of the most populated botting communities, the US, receiving multiple stimulus checks as well, this further changed the demand for bots. As a comparison, we'll take a look at prices of bots by the end of the year.

```{r}
bot_txns_compiled %>%
    filter(transaction_date >= date("2020-07-01"), transaction_date <= date("2020-12-31")) %>% 
    arrange(bot_name, key_type, transaction_date) %>%
    group_by(bot_name, key_type) %>%
    top_n(1) %>% 
    arrange(desc(price))

```
Most bots were hitting all time highs then, fuelled by the demand for a side hustle at home, and the hype for sneakers further sending the prices to record highs. Just a simple comparison between Cyber, a well respected and performing bot is enough - Prices nearly doubled in a year, giving you a great > 100% ROI if you had a lifetime key handy.

### How many lifetime vs renewal keys are there for bots with both? And how does it affect price?

```{r}
#balko freq table / key analysis
bot_txns_compiled %>%
  filter(bot_name == "balko" & year(transaction_date) == 2020) %>% 
  count(key_type) %>% 
  mutate(percent = n / sum(n) * 100)

bot_txns_compiled %>%
  filter(bot_name == "balko" & year(transaction_date) == 2020) %>% 
  group_by(key_type) %>% 
  summarize(avg_txn_price = mean(price))

#cyber freq table / key analysis
bot_txns_compiled %>%
  filter(bot_name == "cyber", year(transaction_date) == 2020) %>% 
  count(key_type) %>% 
  mutate(percent = n / sum(n) * 100)

bot_txns_compiled %>%
  filter(bot_name == "cyber" & year(transaction_date) == 2020) %>% 
  group_by(key_type) %>% 
  summarize(avg_txn_price = mean(price))

#wrath freq table / key analysis
bot_txns_compiled %>%
  filter(bot_name == "wrath", year(transaction_date) == 2020) %>% 
  count(key_type) %>% 
  mutate(percent = n / sum(n) * 100)

bot_txns_compiled %>%
  filter(bot_name == "wrath" & year(transaction_date) == 2020) %>% 
  group_by(key_type) %>% 
  summarize(avg_txn_price = mean(price))

#dashe freq table / key analysis
bot_txns_compiled %>%
  filter(bot_name == "dashe", year(transaction_date) == 2020) %>% 
  count(key_type) %>% 
  mutate(percent = n / sum(n) * 100)

bot_txns_compiled %>%
  filter(bot_name == "dashe" & year(transaction_date) == 2020) %>% 
  group_by(key_type) %>% 
  summarize(avg_txn_price = mean(price))


```

Looking at this selection of bots, we can tell that bot key prices on average are based on two things: **number of keys**, and **performance of the bot** - The more number of keys a bot has, the lower the price will be. The better a bot performs, the more hype generated by users, and the more the community desires the bot. In general, most bot developers also choose to have about 10% to 20% lifetime keys, while the rest are renewals. 

Annual renewal fees often range from $300 - $400 USD a year, giving bot devs very little incentive to make lifetime keys, which are often created for friends, giveaways on twitter, or special events.

Specifically referring to Dashe, the interesting thing here is that when the number of keys (lifetime + renewal) increase, even with a higher % of lifetime keys, the price difference between the two is wider compared to the other bots.

This could be a result of its significantly lower price point and status as a good entry level bot, making it a good bot for people to get into this hobby. (though it doesn't work as well as the other 3 above.)

```{r}
# Number of keys to price analysis

keys_plot_2020 <- bot_txns_compiled %>% 
  filter(bot_name == c("balko", "cyber", "dashe", "mekpreme", "pd", "prism", "splashforce") & year(transaction_date) == 2020) %>% 
  group_by(bot_name, key_type) %>% 
  summarize(n = n())

ggplot(keys_plot_2020, aes(x = bot_name, y = n, fill = key_type)) +
  geom_bar(stat = "identity", position = "dodge") +
  coord_flip() + guides(fill = guide_legend(reverse = TRUE)) +
  labs(y = "no. of keys", title = "Bot Keys in 2020 (Jan - Dec)")

bot_txns_compiled %>%
  filter(bot_name == c("balko", "cyber", "dashe", "mekpreme", "pd", "prism", "splashforce") & year(transaction_date) == 2020) %>% 
  group_by(bot_name, key_type) %>% 
  summarize(avg_txn_price = mean(price)) %>% 
  arrange(desc(avg_txn_price))

```
Looking at the bots that were on BotBroker throughout 2020, we can further see proof that the number of bot keys is directly tied to the price of bots, with bots that have between 300-500 keys in total transacted having prices below $1000.

A few of these bots, in particular, Splashforce and Dashe, were (and still are) notorious for "backdooring" bot keys to users when they performed well, which meant selling them to bot user groups ("cook groups") at the resell price or more of what was on Botbroker and other bot sale places like Discord channels for their own gain, further driving down prices of their bots once they didn't perform as well as people expected.

## The Great Bot Recession 2021

As restrictions lifted, and more people could go outside, the bot economy bubble was due to burst anytime. More bot developers were developing bots solely for hyped sites like US Footsites and Yeezysupply, further creating an extremely saturated market for users and developers alike. 

Here is some of the data for the market's best bots from 2020 to 2021.

```{r}

#renewal prices
bots_decline_plot_renewal <- bot_txns_compiled %>% 
  filter(bot_name == c("balko", "cyber", "splashforce") & key_type == "renewal" & year(transaction_date) == 2020) %>% group_by(bot_name)

bots_decline_plot_renewal

ggplot(bots_decline_plot_renewal, aes(x = transaction_date, y = price, colour = bot_name)) +
         geom_line()

#lifetime prices

bots_decline_plot_lifetime <- bot_txns_compiled %>% 
  filter(bot_name == c("balko", "cyber", "splashforce") & key_type == "lifetime" & year(transaction_date) == 2020) %>% group_by(bot_name)

ggplot(bots_decline_plot_lifetime, aes(x = transaction_date, y = price, colour = bot_name)) +
         geom_line()

```
Let's compare that to 2021 data we have, up to mid august

```{r}
#renewal prices
bots_decline_plot_renewal_2021 <- bot_txns_compiled %>% 
  filter(bot_name == c("balko", "cyber", "splashforce") & key_type == "renewal" & year(transaction_date) == 2021) %>% group_by(bot_name)

bots_decline_plot_renewal_2021

ggplot(bots_decline_plot_renewal_2021, aes(x = transaction_date, y = price, colour = bot_name)) +
         geom_line()

#lifetime prices

bots_decline_plot_lifetime_2021 <- bot_txns_compiled %>% 
  filter(bot_name == c("balko", "cyber", "splashforce") & key_type == "lifetime" & year(transaction_date) == 2021) %>% group_by(bot_name)

ggplot(bots_decline_plot_lifetime_2021, aes(x = transaction_date, y = price, colour = bot_name)) +
         geom_line()
```

Some elements of EDA are left, we will pick up this project again in a bit.
